---
title: 'Initialization'
description: 'Initialize AttestSDK instances for different blockchains'
icon: 'play'
---

## Factory Pattern

The AttestSDK uses factory methods to create blockchain-specific instances:

```typescript
import { AttestSDK } from '@attestprotocol/sdk';

const stellarSDK = await AttestSDK.initializeStellar(stellarConfig);
const solanaSDK = await AttestSDK.initializeSolana(solanaConfig);
```

<Note>
Each blockchain requires its own SDK instance. You can initialize multiple instances for cross-chain applications.
</Note>

## Stellar Initialization

### Basic Configuration

<CodeGroup>
```typescript Basic Setup
import { AttestSDK, StellarConfig } from '@attestprotocol/sdk';

const stellarConfig: StellarConfig = {
  secretKeyOrCustomSigner: 'SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX',
  publicKey: 'GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX',
  url: 'https://soroban-testnet.stellar.org'
};

const stellarSDK = await AttestSDK.initializeStellar(stellarConfig);
```

```typescript Environment Variables
const stellarSDK = await AttestSDK.initializeStellar({
  secretKeyOrCustomSigner: process.env.STELLAR_SECRET_KEY!,
  publicKey: process.env.STELLAR_PUBLIC_KEY!,
  url: process.env.STELLAR_RPC_URL || 'https://soroban-testnet.stellar.org'
});
```

```typescript Wallet Integration
// For React frontends with Freighter, Albedo, etc.
const walletSigner: StellarCustomSigner = {
  signTransaction: async (xdr: string) => {
    const signedTxXdr = await freighterWallet.signTransaction(xdr);
    return {
      signedTxXdr,
      signerAddress: 'GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'
    };
  }
};

const stellarSDK = await AttestSDK.initializeStellar({
  secretKeyOrCustomSigner: walletSigner,
  publicKey: 'GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'
});
```
</CodeGroup>

### Configuration Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `secretKeyOrCustomSigner` | `string \| StellarCustomSigner` | ✓ | - | Secret key or custom signer |
| `publicKey` | `string` | ✓ | - | Stellar public key |
| `url` | `string` | ✗ | `https://soroban-testnet.stellar.org` | RPC endpoint |

### Custom Signer Interface

```typescript
interface StellarCustomSigner {
  signTransaction: (xdr: string) => Promise<{
    signedTxXdr: string;
    signerAddress?: string;
  }>;
}
```

<Info>
Custom signers enable integration with Stellar wallets like Freighter, Albedo, and hardware wallets in React frontends.
</Info>

## Solana Initialization

### Basic Configuration

<CodeGroup>
```typescript Secret Key Array
import { AttestSDK, SolanaConfig } from '@attestprotocol/sdk';

const solanaConfig: SolanaConfig = {
  walletOrSecretKey: [1, 2, 3, /* ...64 numbers */],
  programId: 'BMr9aui54YuxtpBzWXiFNmnr2iH6etRu7rMFJnKxjtpY',
  url: 'https://api.devnet.solana.com'
};

const solanaSDK = await AttestSDK.initializeSolana(solanaConfig);
```

```typescript Anchor Wallet
import * as anchor from '@coral-xyz/anchor';
import { Keypair } from '@solana/web3.js';

const keypair = Keypair.fromSecretKey(new Uint8Array(secretKeyArray));
const wallet = new anchor.Wallet(keypair);

const solanaSDK = await AttestSDK.initializeSolana({
  walletOrSecretKey: wallet,
  programId: 'YOUR_CUSTOM_PROGRAM_ID'
});
```

```typescript Environment Variables
const solanaSDK = await AttestSDK.initializeSolana({
  walletOrSecretKey: JSON.parse(process.env.SOLANA_SECRET_KEY!),
  url: process.env.SOLANA_RPC_URL || 'https://api.devnet.solana.com',
  programId: process.env.SOLANA_PROGRAM_ID
});
```
</CodeGroup>

### Configuration Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `walletOrSecretKey` | `number[] \| anchor.Wallet` | ✓ | - | Secret key or wallet instance |
| `programId` | `string` | ✗ | `BMr9aui54YuxtpBzWXiFNmnr2iH6etRu7rMFJnKxjtpY` | Program ID |
| `url` | `string` | ✗ | `https://api.devnet.solana.com` | RPC endpoint |

### Network Configurations

<Warning>
Always use testnet/devnet for development. Only switch to mainnet when ready for production.
</Warning>

| Network | RPC URL | Usage |
|---------|---------|-------|
| Devnet | `https://api.devnet.solana.com` | Development |
| Testnet | `https://api.testnet.solana.com` | Testing |
| Mainnet | `https://api.mainnet-beta.solana.com` | Production |

## Multi-Chain Configuration

Initialize multiple chains for cross-chain applications:

```typescript
interface MultiChainConfig {
  stellar?: StellarConfig;
  solana?: SolanaConfig;
}

async function initializeSDKs(config: MultiChainConfig): Promise<SDKInstances> {
  const sdks: SDKInstances = {};
  
  if (config.stellar) {
    sdks.stellar = await AttestSDK.initializeStellar(config.stellar);
  }
  
  if (config.solana) {
    sdks.solana = await AttestSDK.initializeSolana(config.solana);
  }
  
  return sdks;
}

// Usage
const sdks = await initializeSDKs({
  stellar: {
    secretKeyOrCustomSigner: process.env.STELLAR_SECRET_KEY!,
    publicKey: process.env.STELLAR_PUBLIC_KEY!
  },
  solana: {
    walletOrSecretKey: JSON.parse(process.env.SOLANA_SECRET_KEY!)
  }
});
```

## Error Handling

### Configuration Validation

```typescript
function validateStellarConfig(config: StellarConfig): void {
  if (!config.secretKeyOrCustomSigner) {
    throw new Error('Secret key or custom signer required');
  }
  if (!config.publicKey) {
    throw new Error('Public key required');
  }
}

function validateSolanaConfig(config: SolanaConfig): void {
  if (!config.walletOrSecretKey) {
    throw new Error('Wallet or secret key required');
  }
  if (Array.isArray(config.walletOrSecretKey) && 
      config.walletOrSecretKey.length !== 64) {
    throw new Error('Secret key must be 64 bytes');
  }
}
```

### Common Errors

<AccordionGroup>
  <Accordion title="Invalid secret key">
    **Cause**: Malformed key format or incorrect length
    
    **Solution**: 
    - Stellar: Ensure key starts with 'S' and is 56 characters
    - Solana: Ensure array has exactly 64 numbers
  </Accordion>

  <Accordion title="Network connection failed">
    **Cause**: RPC endpoint unreachable or incorrect
    
    **Solution**:
    - Verify URL is correct
    - Check network connectivity
    - Try alternative RPC endpoints
  </Accordion>

  <Accordion title="Missing dependencies">
    **Cause**: Peer dependencies not installed
    
    **Solution**:
    ```bash
    npm install @stellar/stellar-sdk @coral-xyz/anchor @solana/web3.js
    ```
  </Accordion>

  <Accordion title="Invalid program ID">
    **Cause**: Wrong Solana program ID format
    
    **Solution**: Ensure program ID is a valid base58 string
  </Accordion>
</AccordionGroup>

## Connection Testing

Verify your SDK initialization is working:

<CodeGroup>
```typescript Stellar Test
async function testStellarConnection(sdk: StellarAttestSDK): Promise<boolean> {
  try {
    const result = await sdk.fetchAuthority();
    console.log('Stellar connection:', result.error ? 'Failed' : 'Success');
    return !result.error;
  } catch (error) {
    console.error('Stellar connection error:', error);
    return false;
  }
}
```

```typescript Solana Test
async function testSolanaConnection(sdk: SolanaAttestSDK): Promise<boolean> {
  try {
    const result = await sdk.getWalletBalance();
    console.log('Solana connection:', result.error ? 'Failed' : 'Success');
    return !result.error;
  } catch (error) {
    console.error('Solana connection error:', error);
    return false;
  }
}
```
</CodeGroup>

## Default Contract Addresses

<Info>
These are the official AttestProtocol contract addresses. Custom deployments will have different addresses.
</Info>

### Stellar Network

| Network | Contract | Address |
|---------|----------|---------|
| Testnet | Protocol | `CBPL7XR7NNPTNSIIFWQMWLSCX3B3MM36UYX4TW3QXJKTIEA6KDLRYAQP` |
| Testnet | Authority | `CDQREK6BTPEVD4O56XR6TKLEEMNYTRJUG466J2ERNE5POIEKN2N6O7EL` |

### Solana Network

| Network | Component | Address |
|---------|-----------|---------|
| Devnet | Program | `BMr9aui54YuxtpBzWXiFNmnr2iH6etRu7rMFJnKxjtpY` |

## Best Practices

<CardGroup cols={2}>
  <Card title="Security" icon="shield">
    - Never commit secret keys to version control
    - Use environment variables for sensitive data
    - Implement proper key rotation procedures
  </Card>
  <Card title="Performance" icon="bolt">
    - Initialize SDKs once and reuse instances
    - Use connection pooling for high-throughput apps
    - Implement retry logic for network failures
  </Card>
</CardGroup>

## Next Steps

<CardGroup cols={3}>
  <Card title="SDK Methods" icon="code" href="/sdks/typescript/methods">
    Complete API reference
  </Card>
  <Card title="Examples" icon="laptop-code" href="/sdks/typescript/examples">
    Implementation examples
  </Card>
  <Card title="Custom Signers" icon="key" href="/sdks/delegated-signatories">
    Hardware wallet integration
  </Card>
</CardGroup>