---
title: 'CLI Tool'
description: 'Unified command-line interface for managing attestations across all supported blockchains'
icon: 'terminal'
---

## Overview

AttestProtocol provides a unified CLI tool that enables developers to manage schemas, attestations, and authorities across all supported blockchains from a single command-line interface. The tool supports Stellar, Solana, and Starknet chains through a simple `--chain` parameter.

---

## Installation

### Global Installation

```bash
npm install -g @attestprotocol/cli
```

### Project-Specific Installation

```bash
# Install in your project
npm install @attestprotocol/cli

# Use with npx
npx @attestprotocol/cli --help
```

---

## Basic Usage

### Command Structure

```bash
attest-protocol <command> --chain=<stellar|solana|starknet> [options]
```

### Available Commands

- `schema` - Manage schemas (create, fetch)
- `authority` - Manage authorities (register, fetch)
- `attestation` - Manage attestations (create, fetch, revoke)

### Global Options

- `--chain` - Blockchain to use (stellar, solana, starknet) [required]
- `--key-file` - Path to key file [required]
- `--url` - Custom RPC URL [optional]
- `--help` - Show help information

---

## Authority Management

### Register as Authority

```bash
# Stellar
attest-protocol authority --chain=stellar --action=register --key-file=stellar-key.json

# Solana
attest-protocol authority --chain=solana --action=register --key-file=solana-key.json

# Starknet
attest-protocol authority --chain=starknet --action=register --key-file=starknet-key.json
```

### Fetch Authority Information

```bash
# Stellar
attest-protocol authority --chain=stellar --action=fetch --uid=<authority-id> --key-file=stellar-key.json

# Solana
attest-protocol authority --chain=solana --action=fetch --uid=<authority-id> --key-file=solana-key.json
```

---

## Schema Management

### Create Schema

```bash
# Stellar
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json

# Solana
attest-protocol schema --chain=solana --action=create --json-file=schema.json --key-file=solana-key.json

# Starknet
attest-protocol schema --chain=starknet --action=create --json-file=schema.json --key-file=starknet-key.json
```

### Fetch Schema

```bash
# Stellar
attest-protocol schema --chain=stellar --action=fetch --uid=<schema-uid> --key-file=stellar-key.json

# Solana
attest-protocol schema --chain=solana --action=fetch --uid=<schema-uid> --key-file=solana-key.json
```

---

## Attestation Management

### Create Attestation

```bash
# Stellar
attest-protocol attestation --chain=stellar --action=create --json-file=attestation.json --key-file=stellar-key.json

# Solana
attest-protocol attestation --chain=solana --action=create --json-file=attestation.json --key-file=solana-key.json

# Starknet
attest-protocol attestation --chain=starknet --action=create --json-file=attestation.json --key-file=starknet-key.json
```

### Fetch Attestation

```bash
# Stellar
attest-protocol attestation --chain=stellar --action=fetch --uid=<attestation-uid> --key-file=stellar-key.json

# Solana
attest-protocol attestation --chain=solana --action=fetch --uid=<attestation-uid> --key-file=solana-key.json
```

### Revoke Attestation

```bash
# Stellar
attest-protocol attestation --chain=stellar --action=revoke --uid=<attestation-uid> --key-file=stellar-key.json

# Solana
attest-protocol attestation --chain=solana --action=revoke --uid=<attestation-uid> --key-file=solana-key.json
```

---

## Key File Formats

### Stellar Key File

```json
{
  "secret": "SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
}
```

### Solana Key File

```json
[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]
```

### Starknet Key File

```json
{
  "accountAddress": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
  "privateKey": "0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890"
}
```

---

## Configuration Files

### Schema Definition

```json
{
  "name": "identity-verification",
  "content": "string name, string email, uint8 verification_level, bool is_verified",
  "revocable": true,
  "resolver": null,
  "levy": null
}
```

### Attestation Data

```json
{
  "schemaUid": "your-schema-uid-here",
  "subject": "GC7XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "data": "{\"name\": \"John Doe\", \"email\": \"john@example.com\", \"verification_level\": 3, \"is_verified\": true}",
  "reference": "optional-reference-string",
  "expirationTime": null
}
```

---

## Advanced Usage

### Custom RPC URLs

```bash
# Stellar testnet
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json --url=https://soroban-testnet.stellar.org

# Solana devnet
attest-protocol schema --chain=solana --action=create --json-file=schema.json --key-file=solana-key.json --url=https://api.devnet.solana.com

# Starknet testnet
attest-protocol schema --chain=starknet --action=create --json-file=schema.json --key-file=starknet-key.json --url=https://starknet-goerli.g.alchemy.com/v2/demo
```

### Environment Variables

Set these environment variables for chain-specific configurations:

```bash
# Solana
export SOLANA_PROGRAM_ID="your-custom-program-id"

# Starknet
export STARKNET_CONTRACT_ADDRESS="your-custom-contract-address"
```

---

## Automation Scripts

### Cross-Chain Schema Creation

```bash
#!/bin/bash
# create-schema-all-chains.sh

SCHEMA_FILE="schema.json"

echo "Creating schema on Stellar..."
attest-protocol schema --chain=stellar --action=create --json-file=$SCHEMA_FILE --key-file=stellar-key.json

echo "Creating schema on Solana..."
attest-protocol schema --chain=solana --action=create --json-file=$SCHEMA_FILE --key-file=solana-key.json

echo "Creating schema on Starknet..."
attest-protocol schema --chain=starknet --action=create --json-file=$SCHEMA_FILE --key-file=starknet-key.json

echo "Schema creation complete on all chains!"
```

### Authority Registration

```bash
#!/bin/bash
# register-authority.sh

CHAINS=("stellar" "solana" "starknet")

for chain in "${CHAINS[@]}"; do
  echo "Registering authority on $chain..."
  attest-protocol authority --chain=$chain --action=register --key-file=${chain}-key.json
  sleep 2  # Rate limiting
done

echo "Authority registration complete on all chains!"
```

---

## CI/CD Integration

### GitHub Actions

```yaml
name: Deploy Attestation Schema

on:
  push:
    paths: ['schemas/*.json']

jobs:
  deploy:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        chain: [stellar, solana, starknet]
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          
      - name: Install CLI
        run: npm install -g @attestprotocol/cli
        
      - name: Deploy Schema
        run: |
          attest-protocol schema \
            --chain=${{ matrix.chain }} \
            --action=create \
            --json-file=schemas/production.json \
            --key-file=${{ matrix.chain }}-key.json
        env:
          STELLAR_KEY: ${{ secrets.STELLAR_KEY }}
          SOLANA_KEY: ${{ secrets.SOLANA_KEY }}
          STARKNET_KEY: ${{ secrets.STARKNET_KEY }}
```

### Docker Usage

```dockerfile
FROM node:18-alpine

RUN npm install -g @attestprotocol/cli

COPY schemas/ /app/schemas/
COPY keys/ /app/keys/
COPY scripts/ /app/scripts/

WORKDIR /app

CMD ["./scripts/deploy-schemas.sh"]
```

---

## Error Handling

### Common Issues

**Invalid Key File Format:**
```bash
# Validate JSON key files
jq . stellar-key.json > /dev/null && echo "Valid JSON" || echo "Invalid JSON"
```

**Network Connectivity:**
```bash
# Test RPC connection
curl -X POST https://soroban-testnet.stellar.org \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":1,"method":"getHealth"}'
```

**Insufficient Balance:**
```bash
# Fund Stellar testnet account
curl "https://friendbot.stellar.org?addr=<STELLAR_ADDRESS>"

# Check Solana account balance
solana balance --url https://api.devnet.solana.com <SOLANA_ADDRESS>
```

### Debug Mode

```bash
# Enable verbose logging
DEBUG=attest:* attest-protocol authority --chain=stellar --action=register --key-file=stellar-key.json

# Save output to file
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json > output.log 2>&1
```

---

## Migration from Legacy CLIs

If you're migrating from the old chain-specific CLIs (`@attestprotocol/stellar-cli`, `@attest/solana-cli`, `@attest/starknet-cli`), here's how to update your commands:

### Old Format
```bash
attest-stellar schema --action=create --json-file=schema.json --signer-key=SXXXXXXX
attest-solana schema --action=create --json-file=schema.json --keypair=keypair.json
attest-starknet schema --action=create --json-file=schema.json --keypair=keypair.json
```

### New Format
```bash
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json
attest-protocol schema --chain=solana --action=create --json-file=schema.json --key-file=solana-key.json
attest-protocol schema --chain=starknet --action=create --json-file=schema.json --key-file=starknet-key.json
```

The unified CLI provides a consistent interface across all supported blockchains, making it easier to manage multi-chain attestation workflows from a single tool.