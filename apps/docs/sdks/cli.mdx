---
title: 'CLI Tool'
description: 'Unified command-line interface for managing attestations across all supported blockchains'
icon: 'terminal'
---

## Overview

AttestProtocol provides a unified CLI tool that enables developers to manage schemas, attestations, and authorities across all supported blockchains from a single command-line interface. The tool supports Stellar, Solana, and Starknet chains through a simple `--chain` parameter.

---

## Installation

### Global Installation

```bash
npm install -g @attestprotocol/cli
```

### Project-Specific Installation

```bash
# Install in your project
<<<<<<< HEAD
npm install @attestprotocol/stellar-cli @attest/solana-cli

# Use with npx
npx @attestprotocol/stellar-cli --help
=======
npm install @attestprotocol/cli

# Use with npx
npx @attestprotocol/cli --help
>>>>>>> canary
```

---

<<<<<<< HEAD
## Common Operations

### Authority Management

Register as an authority on each chain:

```bash
# Stellar
attest-stellar authority --register --signer-key=SXXXXXXX

# Solana
attest-solana authority --register --keypair=/path/to/keypair.json

# Starknet
attest-starknet authority --register --keypair=/path/to/keypair.json
```

Check authority status:

```bash
# Stellar
attest-stellar authority --fetch --signer-key=SXXXXXXX

# Solana
attest-solana authority --fetch --keypair=/path/to/keypair.json
```

### Schema Operations

**Create Schema:**

```bash
# Stellar
attest-stellar schema --action=create --json-file=schema.json --signer-key=SXXXXXXX

# Solana
attest-solana schema --action=create --json-file=schema.json --keypair=/path/to/keypair.json

# Starknet
attest-starknet schema --action=create --json-file=schema.json --keypair=/path/to/keypair.json
```

**Fetch Schema:**

```bash
# Stellar (use transaction hash as UID)
attest-stellar schema --action=fetch --uid=abc123def456... --signer-key=SXXXXXXX

# Solana (use PDA as UID)
attest-solana schema --action=fetch --uid=<PDA> --keypair=/path/to/keypair.json
```

### Attestation Operations

**Create Attestation:**

```bash
# Stellar
attest-stellar attestation \
  --action=create \
  --schema-uid=abc123def456... \
  --json-file=attestation.json \
  --signer-key=SXXXXXXX

# Solana
attest-solana attestation \
  --action=create \
  --schema-uid=<PDA> \
  --json-file=attestation.json \
  --keypair=/path/to/keypair.json
```

**Fetch Attestation:**

```bash
# Stellar
attest-stellar attestation --action=fetch --uid=<attestation-uid> --signer-key=SXXXXXXX

# Solana
attest-solana attestation --action=fetch --uid=<PDA> --keypair=/path/to/keypair.json
```

**Revoke Attestation:**

```bash
# Stellar
attest-stellar attestation --action=revoke --uid=<attestation-uid> --signer-key=SXXXXXXX

# Solana
attest-solana attestation --action=revoke --uid=<PDA> --keypair=/path/to/keypair.json
=======
## Basic Usage

### Command Structure

```bash
attest-protocol <command> --chain=<stellar|solana|starknet> [options]
```

### Available Commands

- `schema` - Manage schemas (create, fetch)
- `authority` - Manage authorities (register, fetch)
- `attestation` - Manage attestations (create, fetch, revoke)

### Global Options

- `--chain` - Blockchain to use (stellar, solana, starknet) [required]
- `--key-file` - Path to key file [required]
- `--url` - Custom RPC URL [optional]
- `--help` - Show help information

---

## Authority Management

### Register as Authority

```bash
# Stellar
attest-protocol authority --chain=stellar --action=register --key-file=stellar-key.json

# Solana
attest-protocol authority --chain=solana --action=register --key-file=solana-key.json

# Starknet
attest-protocol authority --chain=starknet --action=register --key-file=starknet-key.json
```

### Fetch Authority Information

```bash
# Stellar
attest-protocol authority --chain=stellar --action=fetch --uid=<authority-id> --key-file=stellar-key.json

# Solana
attest-protocol authority --chain=solana --action=fetch --uid=<authority-id> --key-file=solana-key.json
```

---

## Schema Management

### Create Schema

```bash
# Stellar
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json

# Solana
attest-protocol schema --chain=solana --action=create --json-file=schema.json --key-file=solana-key.json

# Starknet
attest-protocol schema --chain=starknet --action=create --json-file=schema.json --key-file=starknet-key.json
```

### Fetch Schema

```bash
# Stellar
attest-protocol schema --chain=stellar --action=fetch --uid=<schema-uid> --key-file=stellar-key.json

# Solana
attest-protocol schema --chain=solana --action=fetch --uid=<schema-uid> --key-file=solana-key.json
```

---

## Attestation Management

### Create Attestation

```bash
# Stellar
attest-protocol attestation --chain=stellar --action=create --json-file=attestation.json --key-file=stellar-key.json

# Solana
attest-protocol attestation --chain=solana --action=create --json-file=attestation.json --key-file=solana-key.json

# Starknet
attest-protocol attestation --chain=starknet --action=create --json-file=attestation.json --key-file=starknet-key.json
```

### Fetch Attestation

```bash
# Stellar
attest-protocol attestation --chain=stellar --action=fetch --uid=<attestation-uid> --key-file=stellar-key.json

# Solana
attest-protocol attestation --chain=solana --action=fetch --uid=<attestation-uid> --key-file=solana-key.json
```

### Revoke Attestation

```bash
# Stellar
attest-protocol attestation --chain=stellar --action=revoke --uid=<attestation-uid> --key-file=stellar-key.json

# Solana
attest-protocol attestation --chain=solana --action=revoke --uid=<attestation-uid> --key-file=solana-key.json
```

---

## Key File Formats

### Stellar Key File

```json
{
  "secret": "SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
}
```

### Solana Key File

```json
[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]
```

### Starknet Key File

```json
{
  "accountAddress": "0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
  "privateKey": "0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890"
}
>>>>>>> canary
```

---

## Configuration Files

### Schema Definition

```json
{
<<<<<<< HEAD
  "name": "KYCVerification",
  "type": "object",
  "properties": {
    "verified": { "type": "boolean" },
    "level": { "type": "string", "maxLength": 20 },
    "score": { "type": "number", "minimum": 0, "maximum": 100 },
    "timestamp": { "type": "number" }
  },
  "required": ["verified", "level"]
=======
  "name": "identity-verification",
  "content": "string name, string email, uint8 verification_level, bool is_verified",
  "revocable": true,
  "resolver": null,
  "levy": null
>>>>>>> canary
}
```

### Attestation Data

```json
{
<<<<<<< HEAD
  "subject": "GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "data": "verified:true,level:enhanced,score:95,timestamp:1704067200",
  "reference": "kyc-check-2024-001"
}
```

### Stellar Key Configuration

```json
{
  "publicKey": "GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "secretKey": "SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "network": "testnet"
=======
  "schemaUid": "your-schema-uid-here",
  "subject": "GC7XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "data": "{\"name\": \"John Doe\", \"email\": \"john@example.com\", \"verification_level\": 3, \"is_verified\": true}",
  "reference": "optional-reference-string",
  "expirationTime": null
>>>>>>> canary
}
```

---

<<<<<<< HEAD
## Chain-Specific Features

### Stellar CLI

**Key Management:**
- Uses Stellar secret keys (S...)  
- Supports testnet and mainnet networks via `--url` parameter
- Automatically handles account funding requirements

**Commands:**
```bash
# Set custom RPC endpoint
attest-stellar --url=https://soroban-testnet.stellar.org authority --register --signer-key=SXXXXXXX

# Use mainnet (when available)  
attest-stellar --url=https://soroban-mainnet.stellar.org schema --action=fetch --uid=abc123
```

### Solana CLI

**Key Management:**
- Uses Solana keypair files (JSON format)
- Supports devnet, testnet, and mainnet-beta
- Compatible with standard Solana CLI keypairs

**Commands:**
```bash
# Generate new keypair
solana-keygen new --outfile keypair.json

# Use custom RPC endpoint
attest-solana --url=https://api.devnet.solana.com authority --register --keypair=keypair.json

# Check balance
solana balance --keypair keypair.json
```

**Token Support:**
```bash
# Create attestation with custom levy token
attest-solana attestation \
  --action=create \
  --schema-uid=<PDA> \
  --json-file=attestation.json \
  --keypair=keypair.json \
  --levy-token=So11111111111111111111111111111111111111112
```

### Starknet CLI

**Key Management:**
- Uses Starknet keypair files
- Supports testnet and mainnet networks
- Compatible with Starknet account contracts

**Commands:**
```bash
# Deploy account contract (if needed)
starknet deploy_account --keystore keypair.json

# Use custom network
attest-starknet --url=https://starknet-testnet.gateway.fm authority --register --keypair=keypair.json
=======
## Advanced Usage

### Custom RPC URLs

```bash
# Stellar testnet
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json --url=https://soroban-testnet.stellar.org

# Solana devnet
attest-protocol schema --chain=solana --action=create --json-file=schema.json --key-file=solana-key.json --url=https://api.devnet.solana.com

# Starknet testnet
attest-protocol schema --chain=starknet --action=create --json-file=schema.json --key-file=starknet-key.json --url=https://starknet-goerli.g.alchemy.com/v2/demo
```

### Environment Variables

Set these environment variables for chain-specific configurations:

```bash
# Solana
export SOLANA_PROGRAM_ID="your-custom-program-id"

# Starknet
export STARKNET_CONTRACT_ADDRESS="your-custom-contract-address"
>>>>>>> canary
```

---

## Automation Scripts

<<<<<<< HEAD
### Batch Schema Creation

```bash
#!/bin/bash
# create-schemas.sh

SCHEMAS=("identity" "reputation" "certification")
SIGNER_KEY="SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

for schema in "${SCHEMAS[@]}"; do
  echo "Creating schema: $schema"
  attest-stellar schema \
    --action=create \
    --json-file="schemas/${schema}.json" \
    --signer-key=$SIGNER_KEY
  sleep 2  # Rate limiting
done
```

### Cross-Chain Authority Setup

```bash
#!/bin/bash
# setup-authority.sh

STELLAR_KEY="SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
SOLANA_KEYPAIR="/path/to/solana-keypair.json"

echo "Registering Stellar authority..."
attest-stellar authority --register --signer-key=$STELLAR_KEY

echo "Registering Solana authority..."
attest-solana authority --register --keypair=$SOLANA_KEYPAIR

echo "Authority registration complete!"
```

### Attestation Verification

```bash
#!/bin/bash
# verify-attestation.sh

ATTESTATION_UID=$1
CHAIN=$2

case $chain in
  "stellar")
    attest-stellar attestation --action=fetch --uid=$ATTESTATION_UID --signer-key=$STELLAR_KEY
    ;;
  "solana")
    attest-solana attestation --action=fetch --uid=$ATTESTATION_UID --keypair=$SOLANA_KEYPAIR
    ;;
  *)
    echo "Unsupported chain: $CHAIN"
    exit 1
    ;;
esac
```

---

## Environment Configuration

### Environment Variables

```bash
# Stellar configuration
export ATTEST_STELLAR_URL="https://soroban-testnet.stellar.org"
export ATTEST_STELLAR_SIGNER_KEY="SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"

# Solana configuration  
export ATTEST_SOLANA_URL="https://api.devnet.solana.com"
export ATTEST_SOLANA_KEYPAIR="/home/user/.config/solana/id.json"

# Starknet configuration
export ATTEST_STARKNET_URL="https://starknet-testnet.gateway.fm"
export ATTEST_STARKNET_KEYPAIR="/home/user/.starknet/keypair.json"
```

### Configuration File

Create `~/.attestprotocol/config.json`:

```json
{
  "stellar": {
    "url": "https://soroban-testnet.stellar.org",
    "signerKey": "SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
  },
  "solana": {
    "url": "https://api.devnet.solana.com", 
    "keypair": "/home/user/.config/solana/id.json"
  },
  "starknet": {
    "url": "https://starknet-testnet.gateway.fm",
    "keypair": "/home/user/.starknet/keypair.json"
  }
}
```

---

## Error Handling

### Common Issues

**Insufficient Balance:**
```bash
# Check account balance first
stellar-cli balance --source GXXXXXXX

# Fund account if needed (testnet)
curl "https://friendbot.stellar.org?addr=GXXXXXXX"
```

**Invalid Schema Format:**
```bash
# Validate JSON before submission
jq . schema.json > /dev/null && echo "Valid JSON" || echo "Invalid JSON"
```

**Network Connectivity:**
```bash
# Test RPC connection
curl -X POST https://soroban-testnet.stellar.org \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":1,"method":"getHealth"}'
```

### Debug Mode

```bash
# Enable verbose logging
DEBUG=attest:* attest-stellar authority --register --signer-key=SXXXXXXX

# Save output to file
attest-stellar schema --action=create --json-file=schema.json --signer-key=SXXXXXXX > output.log 2>&1
=======
### Cross-Chain Schema Creation

```bash
#!/bin/bash
# create-schema-all-chains.sh

SCHEMA_FILE="schema.json"

echo "Creating schema on Stellar..."
attest-protocol schema --chain=stellar --action=create --json-file=$SCHEMA_FILE --key-file=stellar-key.json

echo "Creating schema on Solana..."
attest-protocol schema --chain=solana --action=create --json-file=$SCHEMA_FILE --key-file=solana-key.json

echo "Creating schema on Starknet..."
attest-protocol schema --chain=starknet --action=create --json-file=$SCHEMA_FILE --key-file=starknet-key.json

echo "Schema creation complete on all chains!"
```

### Authority Registration

```bash
#!/bin/bash
# register-authority.sh

CHAINS=("stellar" "solana" "starknet")

for chain in "${CHAINS[@]}"; do
  echo "Registering authority on $chain..."
  attest-protocol authority --chain=$chain --action=register --key-file=${chain}-key.json
  sleep 2  # Rate limiting
done

echo "Authority registration complete on all chains!"
>>>>>>> canary
```

---

## CI/CD Integration

### GitHub Actions

```yaml
name: Deploy Attestation Schema

on:
  push:
    paths: ['schemas/*.json']

jobs:
  deploy:
    runs-on: ubuntu-latest
<<<<<<< HEAD
=======
    strategy:
      matrix:
        chain: [stellar, solana, starknet]
    
>>>>>>> canary
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          
      - name: Install CLI
<<<<<<< HEAD
        run: npm install -g @attestprotocol/stellar-cli
        
      - name: Deploy Schema
        run: |
          attest-stellar schema \
            --action=create \
            --json-file=schemas/production.json \
            --signer-key=${{ secrets.STELLAR_SIGNER_KEY }}
        env:
          ATTEST_STELLAR_URL: https://soroban-mainnet.stellar.org
=======
        run: npm install -g @attestprotocol/cli
        
      - name: Deploy Schema
        run: |
          attest-protocol schema \
            --chain=${{ matrix.chain }} \
            --action=create \
            --json-file=schemas/production.json \
            --key-file=${{ matrix.chain }}-key.json
        env:
          STELLAR_KEY: ${{ secrets.STELLAR_KEY }}
          SOLANA_KEY: ${{ secrets.SOLANA_KEY }}
          STARKNET_KEY: ${{ secrets.STARKNET_KEY }}
>>>>>>> canary
```

### Docker Usage

```dockerfile
FROM node:18-alpine

<<<<<<< HEAD
RUN npm install -g @attestprotocol/stellar-cli @attest/solana-cli

COPY schemas/ /app/schemas/
=======
RUN npm install -g @attestprotocol/cli

COPY schemas/ /app/schemas/
COPY keys/ /app/keys/
>>>>>>> canary
COPY scripts/ /app/scripts/

WORKDIR /app

CMD ["./scripts/deploy-schemas.sh"]
```

<<<<<<< HEAD
The CLI tools provide a powerful interface for managing AttestProtocol operations across all supported blockchains, enabling seamless integration into development workflows and production systems.
=======
---

## Error Handling

### Common Issues

**Invalid Key File Format:**
```bash
# Validate JSON key files
jq . stellar-key.json > /dev/null && echo "Valid JSON" || echo "Invalid JSON"
```

**Network Connectivity:**
```bash
# Test RPC connection
curl -X POST https://soroban-testnet.stellar.org \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":1,"method":"getHealth"}'
```

**Insufficient Balance:**
```bash
# Fund Stellar testnet account
curl "https://friendbot.stellar.org?addr=<STELLAR_ADDRESS>"

# Check Solana account balance
solana balance --url https://api.devnet.solana.com <SOLANA_ADDRESS>
```

### Debug Mode

```bash
# Enable verbose logging
DEBUG=attest:* attest-protocol authority --chain=stellar --action=register --key-file=stellar-key.json

# Save output to file
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json > output.log 2>&1
```

---

## Migration from Legacy CLIs

If you're migrating from the old chain-specific CLIs (`@attestprotocol/stellar-cli`, `@attest/solana-cli`, `@attest/starknet-cli`), here's how to update your commands:

### Old Format
```bash
attest-stellar schema --action=create --json-file=schema.json --signer-key=SXXXXXXX
attest-solana schema --action=create --json-file=schema.json --keypair=keypair.json
attest-starknet schema --action=create --json-file=schema.json --keypair=keypair.json
```

### New Format
```bash
attest-protocol schema --chain=stellar --action=create --json-file=schema.json --key-file=stellar-key.json
attest-protocol schema --chain=solana --action=create --json-file=schema.json --key-file=solana-key.json
attest-protocol schema --chain=starknet --action=create --json-file=schema.json --key-file=starknet-key.json
```

The unified CLI provides a consistent interface across all supported blockchains, making it easier to manage multi-chain attestation workflows from a single tool.
>>>>>>> canary
