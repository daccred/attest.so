---
title: 'Quickstart'
description: 'Get up and running with AttestProtocol on Stellar. Create your first attestation with BLS delegation.'
---

## Overview

This quickstart guide will walk you through creating attestations using the Stellar SDK. You'll learn how to:

1. Install and initialize the Stellar client
2. Create schemas for structured credentials
3. Issue basic attestations
4. Use BLS delegation for off-chain signing
5. Query attestations from the Horizon indexer

<Note>
This guide uses Stellar testnet for safe experimentation. Switch to mainnet when ready for production with actual deployed contracts.
</Note>

## Prerequisites

- Node.js 18+ installed
- TypeScript familiarity recommended
- Stellar wallet (testnet account with XLM for gas)
- Basic understanding of Soroban smart contracts

## Step 1: Installation

Install the Stellar SDK and dependencies:

<CodeGroup>
```bash npm
npm install @attestprotocol/stellar-sdk @stellar/stellar-sdk
```

```bash pnpm
pnpm add @attestprotocol/stellar-sdk @stellar/stellar-sdk
```

```bash yarn
yarn add @attestprotocol/stellar-sdk @stellar/stellar-sdk
```
</CodeGroup>

### Get Testnet Account

Create a Stellar testnet account with Friendbot:

```bash
curl "https://friendbot.stellar.org?addr=YOUR_PUBLIC_KEY"
```

Or use Stellar Laboratory: https://laboratory.stellar.org/#account-creator

## Step 2: Initialize the Client

Initialize the Stellar attestation client with your configuration:

```typescript
import { StellarAttestationClient } from '@attestprotocol/stellar-sdk';
import { Keypair } from '@stellar/stellar-sdk';

// Initialize client
const client = new StellarAttestationClient({
  rpcUrl: 'https://soroban-testnet.stellar.org',
  network: 'testnet',
  publicKey: 'GBXXXXXXXXXXXXXXXXXXXXX',
  // Optional: specify custom contract ID
  contractId: 'CDBWGWEZ3P4DZ3YUZSCEUKOVV2UGF2PYQEPW3E5OKNLYS5SNW4SQLDUA'
});

// Create signer from secret key
const signer = Keypair.fromSecret(process.env.STELLAR_SECRET_KEY);

console.log('Client initialized for testnet');
```

<Warning>
Never commit private keys to version control. Always use environment variables for secrets.
</Warning>

### Network Configuration

The client automatically uses the correct contract addresses for testnet and mainnet based on your `network` parameter.

## Step 3: Register as Authority

Before issuing attestations, register your wallet as an authority:

```typescript
const authority = await client.registerAuthority({
  options: { signer }
});

if (authority.error) {
  console.error('Registration failed:', authority.error);
  process.exit(1);
}

console.log('Authority registered successfully');
```

<Info>
Authority registration is a one-time process per wallet. You can check your status with `client.fetchAuthority()`.
</Info>

## Step 4: Create or Select Schema

Schemas define the structure of your attestations:

<CodeGroup>
```typescript Use Existing Schema
// Use pre-built KYC schema
const schemaUID = Buffer.from('kyc-basic-v1', 'utf-8');
console.log('Using existing schema:', schemaUID);
```

```typescript Create Custom Schema
const schema = await client.createSchema({
  name: 'user-verification',
  description: 'User verification schema',
  schema: 'verified:bool,level:string,score:uint8,timestamp:uint64',
  revocable: true,
  options: { signer }
});

if (schema.schemaUid) {
  console.log('Schema created:', schema.schemaUid);
} else {
  console.error('Schema creation failed');
}
```
</CodeGroup>

## Step 5: Issue Your First Attestation

Create an attestation for a user:

```typescript
const attestation = await client.attest({
  schemaUid: Buffer.from('kyc-basic-v1', 'utf-8'),
  subject: 'GSUBJECT...', // Target Stellar address
  value: JSON.stringify({
    verified: true,
    level: 'enhanced',
    score: 95,
    timestamp: 1704067200
  }),
  options: { signer }
});

console.log('Attestation issued!');
console.log('UID:', attestation.attestationUid);
```

<Note>
The `value` field should be a JSON string that matches your schema definition.
</Note>

## Step 6: Verify Attestations

Check if a user has valid attestations:

<CodeGroup>
```typescript Simple Check
const result = await client.getAttestation({
  schemaUid: Buffer.from('kyc-basic-v1', 'utf-8'),
  subject: 'GSUBJECT...'
});

if (result && !result.revoked) {
  console.log('User has valid KYC attestation');
  const data = JSON.parse(result.value);
  console.log('Verified:', data.verified);
  console.log('Level:', data.level);
} else {
  console.log('No valid attestation found');
}
```

```typescript Query Multiple
const attestations = await client.queryAttestations({
  subject: 'GSUBJECT...'
});

console.log(`Found ${attestations.length} attestations`);

for (const att of attestations) {
  if (!att.revoked) {
    const data = JSON.parse(att.value);
    console.log('Schema:', att.schemaUid);
    console.log('Data:', data);
  }
}
```
</CodeGroup>

## Step 7: Complete Example

Here's a complete working example:

<CodeGroup>
```typescript Basic
import { StellarAttestationClient } from '@attestprotocol/stellar-sdk';
import { Keypair } from '@stellar/stellar-sdk';
import dotenv from 'dotenv';

dotenv.config();

async function main() {
  try {
    // Initialize client
    const signer = Keypair.fromSecret(process.env.STELLAR_SECRET_KEY!);
    const client = new StellarAttestationClient({
      rpcUrl: 'https://soroban-testnet.stellar.org',
      network: 'testnet',
      publicKey: signer.publicKey()
    });

    console.log('✅ Client initialized');

    // Register authority (if needed)
    await client.registerAuthority({ options: { signer } });
    console.log('✅ Authority registered');

    // Issue attestation
    const attestation = await client.attest({
      schemaUid: Buffer.from('kyc-basic-v1', 'utf-8'),
      subject: 'GSUBJECT...',
      value: JSON.stringify({
        verified: true,
        level: 'basic',
        score: 85,
        timestamp: Date.now()
      }),
      options: { signer }
    });

    console.log('✅ Attestation created:', attestation.attestationUid);

    // Verify attestation
    const verification = await client.getAttestation({
      schemaUid: Buffer.from('kyc-basic-v1', 'utf-8'),
      subject: 'GSUBJECT...'
    });

    if (verification && !verification.revoked) {
      console.log('✅ Attestation verified');
      console.log('Data:', JSON.parse(verification.value));
    }

  } catch (error) {
    console.error('❌ Error:', error);
  }
}

main();
```

```typescript Advanced
import { StellarAttestationClient } from '@attestprotocol/stellar-sdk';
import { Keypair } from '@stellar/stellar-sdk';

interface KYCData {
  verified: boolean;
  level: string;
  score: number;
  timestamp: number;
}

async function main(): Promise<void> {
  const signer = Keypair.fromSecret(process.env.STELLAR_SECRET_KEY!);
  const client = new StellarAttestationClient({
    rpcUrl: 'https://soroban-testnet.stellar.org',
    network: 'testnet',
    publicKey: signer.publicKey()
  });

  // Type-safe attestation
  const kycData: KYCData = {
    verified: true,
    level: 'basic',
    score: 85,
    timestamp: Date.now()
  };

  const attestation = await client.attest({
    schemaUid: Buffer.from('kyc-basic-v1', 'utf-8'),
    subject: 'GSUBJECT...',
    value: JSON.stringify(kycData),
    options: { signer }
  });

  console.log('Attestation created:', attestation.attestationUid);
}

main().catch(console.error);
```
</CodeGroup>

## Environment Setup

Create a `.env` file in your project root:

```bash .env
# Stellar credentials
STELLAR_SECRET_KEY=your_stellar_secret_key

# Optional: Custom RPC endpoint (defaults to testnet)
STELLAR_RPC_URL=https://soroban-testnet.stellar.org
```

## Next Steps

Great! You've created your first attestation. Here's what to explore next:

<CardGroup cols={2}>
  <Card
    title="Core Concepts"
    icon="lightbulb"
    href="/concepts/attestations"
  >
    Learn about attestations, schemas, and authorities
  </Card>
  <Card
    title="SDK Methods"
    icon="code"
    href="/sdks/typescript/methods"
  >
    Explore all available SDK methods and options
  </Card>
  <Card
    title="Use Cases"
    icon="puzzle-piece"
    href="/guides/use-cases"
  >
    Real-world applications and implementation patterns
  </Card>
  <Card
    title="Workflow Guides"
    icon="laptop-code"
    href="/guides/kyc-integration"
  >
    Complete integration examples for common use cases
  </Card>
</CardGroup>

## Troubleshooting

<AccordionGroup>
  <Accordion title="SDK Initialization Failed">
    - Check your secret key format and permissions
    - Verify RPC endpoint is accessible
    - Ensure you have sufficient balance for transactions
    - Try using testnet first before mainnet
  </Accordion>

  <Accordion title="Authority Registration Failed">
    - Confirm wallet has sufficient balance for gas fees
    - Check if authority is already registered with `fetchAuthority()`
    - Verify network connectivity to blockchain RPC
    - Review error message for specific failure reason
  </Accordion>

  <Accordion title="Attestation Creation Failed">
    - Ensure you're registered as an authority first
    - Verify schema exists or create it before use
    - Check that value format matches schema definition
    - Confirm target address format is correct for your blockchain
  </Accordion>

  <Accordion title="Attestation Not Found">
    - Double-check the schema UID and subject address
    - Confirm you're querying the correct network (testnet vs mainnet)
    - Wait a few seconds for blockchain confirmation
    - Verify the attestation wasn't revoked
  </Accordion>
</AccordionGroup>

<Info>
**Need Help?** Join our [Discord community](https://discord.com/invite/7kVur5ja5m) or check out our [troubleshooting guide](/guides/troubleshooting) for more detailed solutions.
</Info>