---
title: 'Authority'
description: 'Authority registration and management system for attestation creation'
icon: 'user-check'
---

## Overview

Authorities are entities with permission to create schemas and issue attestations on the AttestProtocol network. The authority system provides decentralized attestation capabilities while maintaining accountability through on-chain registration.

## Core Concepts

### Authority Registration
Every wallet must register as an authority before creating schemas or attestations. Registration creates an on-chain record that establishes the wallet's permission to issue attestations.

### Authority Verification
Authorities can be verified through additional processes, providing trust signals for attestation consumers. Verification status is tracked on-chain and affects the authority's reputation.

### Decentralized Model
The authority system is permissionless - any wallet can register as an authority. This enables widespread adoption while maintaining a clear audit trail of who issued each attestation.

---

## Methods

### fetchAuthority()

Retrieves authority information for the current wallet.

**Purpose:** Check if the current wallet is registered as an authority and retrieve associated metadata.

**Chain Behavior:**
- **Stellar:** Returns address and metadata string
- **Solana:** Returns authority PDA, verification status, and first deployment timestamp

**Parameters:** None

**Returns:**

**Stellar:**
```typescript
AttestSDKResponse<StellarFetchAuthorityResult | null>

interface StellarFetchAuthorityResult {
  address: string;        // Authority wallet address
  metadata: string;       // Authority metadata
}
```

**Solana:**
```typescript
AttestSDKResponse<SolanaFetchAuthorityResult>

interface SolanaFetchAuthorityResult {
  authority: anchor.web3.PublicKey;  // Authority PDA
  isVerified: boolean;               // Verification status
  firstDeployment: anchor.BN;       // Registration timestamp
}
```

**Usage Example:**
```typescript
const result = await sdk.fetchAuthority();
if (result.error) {
  // Authority not registered or fetch failed
  return;
}

// Stellar
if (result.data) {
  const authority = result.data;
  // Authority exists with address and metadata
}

// Solana  
const authority = result.data!;
if (authority.isVerified) {
  // Authority is verified
}
```

**Error Conditions:**
- Authority not registered (returns null for Stellar, error for Solana)
- Network connectivity issues
- Invalid wallet configuration

---

### registerAuthority()

Registers the current wallet as an authority on the network.

**Purpose:** Enable the current wallet to create schemas and issue attestations by registering it as an authority.

**Chain Behavior:**
- **Stellar:** Simple registration returning the authority address
- **Solana:** Creates authority PDA with detailed metadata and verification status

**Parameters:** None

**Returns:**

**Stellar:**
```typescript
AttestSDKResponse<string>  // Authority address
```

**Solana:**
```typescript
AttestSDKResponse<anchor.web3.PublicKey>  // Authority PDA
```

**Usage Example:**
```typescript
const result = await sdk.registerAuthority();
if (result.error) {
  // Registration failed
  return;
}

// Stellar
const authorityAddress = result.data!;  // String address

// Solana
const authorityPDA = result.data!;      // PublicKey
```

**Transaction Details:**

**Stellar:**
- Creates authority record in protocol contract
- Associates wallet address with authority status
- Enables schema and attestation creation

**Solana:**
- Creates authority PDA account
- Sets verification status to false (pending verification)
- Records first deployment timestamp
- Enables schema and attestation operations

**Error Conditions:**
- Insufficient balance for transaction fees
- Authority already registered (Solana)
- Network or contract execution failures

---

## Authority States

### Registration States

| State | Description | Can Create Schemas | Can Issue Attestations |
|-------|-------------|-------------------|----------------------|
| **Unregistered** | Wallet not registered | No | No |
| **Registered** | Basic authority registration | Yes | Yes |
| **Verified** | Additional verification completed | Yes | Yes (with verification badge) |

### Verification Process

**Solana:** Verification is tracked on-chain through the `isVerified` flag. Verification processes vary by implementation and may involve:
- Identity verification
- Stake requirements  
- Community governance
- Technical assessments

**Stellar:** Verification is handled through metadata strings and external systems.

---

## Authority Metadata

### Stellar Metadata
Metadata is stored as a string and can contain:
- Authority name
- Contact information
- Verification status
- Custom properties

### Solana Metadata
Metadata is structured on-chain:
- `authority`: PDA address
- `isVerified`: Boolean verification status
- `firstDeployment`: Registration timestamp
- Additional fields via program extensions

---

## Access Control

### Schema Creation
Only registered authorities can create schemas. The authority's address is recorded as the schema owner, enabling:
- Schema updates (if supported)
- Authority identification for schema consumers
- Reputation tracking

### Attestation Issuance  
Only registered authorities can issue attestations. Each attestation records:
- Issuing authority address
- Issuance timestamp
- Authority verification status (where applicable)

### Revocation Rights
Authorities can revoke their own attestations. Revocation rights include:
- Own issued attestations
- Attestations under owned schemas (implementation dependent)
- Batch revocation capabilities

---

## Integration Patterns

### Authority Check
```typescript
async function ensureAuthority(sdk: any): Promise<boolean> {
  const result = await sdk.fetchAuthority();
  
  if (result.error || !result.data) {
    // Register as authority
    const registerResult = await sdk.registerAuthority();
    return !registerResult.error;
  }
  
  return true;
}
```

### Multi-Chain Authority Management
```typescript
interface AuthorityManager {
  stellar?: { address: string; metadata: string };
  solana?: { authority: PublicKey; isVerified: boolean };
}

async function getAuthorityStatus(sdks: SDKInstances): Promise<AuthorityManager> {
  const status: AuthorityManager = {};
  
  if (sdks.stellar) {
    const result = await sdks.stellar.fetchAuthority();
    if (result.data) {
      status.stellar = result.data;
    }
  }
  
  if (sdks.solana) {
    const result = await sdks.solana.fetchAuthority();
    if (result.data) {
      status.solana = result.data;
    }
  }
  
  return status;
}
```

### Authority Validation
```typescript
function validateAuthority(authority: any, chain: 'stellar' | 'solana'): boolean {
  if (chain === 'stellar') {
    return authority.address && authority.address.length === 56;
  }
  
  if (chain === 'solana') {
    return authority.authority instanceof anchor.web3.PublicKey;
  }
  
  return false;
}
```

---

## Gas and Fee Considerations

### Stellar Authority Operations
- **Registration:** ~0.00001 XLM base fee + contract execution cost
- **Fetch:** Read operation, no transaction fees
- **Account Reserve:** Requires minimum XLM balance (~2.5 XLM)

### Solana Authority Operations  
- **Registration:** ~0.000005 SOL transaction fee + account rent (~0.00203928 SOL)
- **Fetch:** Read operation, no transaction fees
- **PDA Creation:** One-time account creation cost

---

## Security Considerations

### Key Management
- Authority status is tied to specific wallet addresses
- Loss of private keys means loss of authority control
- Consider multi-signature setups for high-value authorities

### Verification Trust
- Unverified authorities can still issue valid attestations
- Verification adds trust signals but doesn't affect technical validity
- Consumers should evaluate authority reputation independently

### Authority Reputation
- All authority actions are recorded on-chain
- Historical behavior affects authority trustworthiness
- Consider implementing authority scoring systems

---

## Best Practices

### Registration
- Register authorities early in application setup
- Verify registration succeeded before schema/attestation operations
- Implement retry logic for network failures

### Metadata Management
- Use descriptive metadata for authority identification
- Include contact information for dispute resolution
- Update metadata when authority status changes

### Multi-Chain Coordination
- Maintain consistent authority identity across chains
- Synchronize verification status where possible
- Use unified authority management systems