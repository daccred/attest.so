---
title: 'Create Attestation'
description: 'Create a new attestation on-chain'
api: 'POST /v1/attestations'
---

## Overview

Create a new attestation by providing the schema, subject, and data. The attestation will be recorded on-chain and can be immediately used for verification.

## Authentication

<ParamField header="Authorization" type="string" required>
  Bearer token with your API key: `Bearer your_api_key_here`
</ParamField>

<ParamField header="Content-Type" type="string" required>
  Must be `application/json`
</ParamField>

## Request Body

<ParamField body="schema" type="string" required>
  The schema name or ID that defines the structure of this attestation
</ParamField>

<ParamField body="subject" type="string" required>
  The address (wallet, contract, etc.) that this attestation is about
</ParamField>

<ParamField body="data" type="object" required>
  The attestation data that must conform to the specified schema
</ParamField>

<ParamField body="expiresAt" type="string" optional>
  ISO 8601 timestamp when the attestation expires. If not provided, attestation never expires.
</ParamField>

<ParamField body="revocable" type="boolean" optional default="true">
  Whether this attestation can be revoked later
</ParamField>

<ParamField body="metadata" type="object" optional>
  Additional metadata to store with the attestation
  
  <Expandable title="Metadata Properties">
    <ParamField body="metadata.tags" type="array" optional>
      Array of string tags for categorization
    </ParamField>
    
    <ParamField body="metadata.confidenceScore" type="number" optional>
      Confidence score from 0-100 indicating certainty of the claim
    </ParamField>
    
    <ParamField body="metadata.source" type="string" optional>
      Source of the attestation data (e.g., "manual-review", "automated-check")
    </ParamField>
    
    <ParamField body="metadata.externalId" type="string" optional>
      External system identifier for correlation
    </ParamField>
    
    <ParamField body="metadata.customFields" type="object" optional>
      Additional custom key-value pairs
    </ParamField>
  </Expandable>
</ParamField>

## Response

<ResponseField name="id" type="string">
  Unique identifier for the created attestation
</ResponseField>

<ResponseField name="schema" type="string">
  The schema used for this attestation
</ResponseField>

<ResponseField name="subject" type="string">
  The subject address of the attestation
</ResponseField>

<ResponseField name="authority" type="string">
  The authority (your address) that issued this attestation
</ResponseField>

<ResponseField name="data" type="object">
  The attestation data as provided
</ResponseField>

<ResponseField name="createdAt" type="string">
  ISO 8601 timestamp when the attestation was created
</ResponseField>

<ResponseField name="expiresAt" type="string">
  ISO 8601 timestamp when the attestation expires (if applicable)
</ResponseField>

<ResponseField name="status" type="string">
  Current status of the attestation (always "active" for new attestations)
</ResponseField>

<ResponseField name="transactionHash" type="string">
  Blockchain transaction hash where the attestation was recorded
</ResponseField>

<ResponseField name="revocable" type="boolean">
  Whether this attestation can be revoked
</ResponseField>

<ResponseField name="metadata" type="object">
  The metadata provided with the attestation
</ResponseField>

## Examples

<CodeGroup>
```bash cURL
curl -X POST "https://api.attest.so/v1/attestations" \
  -H "Authorization: Bearer your_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{
    "schema": "kyc-verification",
    "subject": "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgHv1",
    "data": {
      "verified": true,
      "level": "enhanced",
      "country": "US",
      "verifiedAt": "2024-01-15T10:30:00Z"
    },
    "expiresAt": "2025-01-15T10:30:00Z",
    "metadata": {
      "tags": ["kyc", "enhanced"],
      "confidenceScore": 95,
      "source": "manual-review"
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://api.attest.so/v1/attestations', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${process.env.ATTEST_API_KEY}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    schema: 'kyc-verification',  
    subject: '7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgHv1',
    data: {
      verified: true,
      level: 'enhanced',
      country: 'US',
      verifiedAt: new Date().toISOString()
    },
    expiresAt: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000).toISOString(),
    metadata: {
      tags: ['kyc', 'enhanced'],
      confidenceScore: 95,
      source: 'automated-check'
    }
  })
});

const attestation = await response.json();
```

```python Python
import requests
import json
from datetime import datetime, timedelta

url = "https://api.attest.so/v1/attestations"
headers = {
    "Authorization": f"Bearer {os.getenv('ATTEST_API_KEY')}",
    "Content-Type": "application/json"
}

data = {
    "schema": "kyc-verification",
    "subject": "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgHv1", 
    "data": {
        "verified": True,
        "level": "enhanced",
        "country": "US",
        "verifiedAt": datetime.utcnow().isoformat() + "Z"
    },
    "expiresAt": (datetime.utcnow() + timedelta(days=365)).isoformat() + "Z",
    "metadata": {
        "tags": ["kyc", "enhanced"],
        "confidenceScore": 95,
        "source": "manual-review"
    }
}

response = requests.post(url, headers=headers, json=data)
attestation = response.json()
```

```typescript TypeScript
interface AttestationRequest {
  schema: string;
  subject: string;
  data: Record<string, any>;
  expiresAt?: string;
  revocable?: boolean;
  metadata?: {
    tags?: string[];
    confidenceScore?: number;
    source?: string;
    externalId?: string;
    customFields?: Record<string, any>;
  };
}

const createAttestation = async (request: AttestationRequest) => {
  const response = await fetch('https://api.attest.so/v1/attestations', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${process.env.ATTEST_API_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(request)
  });

  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }

  return await response.json();
};

// Usage
const attestation = await createAttestation({
  schema: 'kyc-verification',
  subject: '7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgHv1',
  data: {
    verified: true,
    level: 'enhanced',
    country: 'US',
    verifiedAt: new Date().toISOString()
  },
  expiresAt: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000).toISOString()
});
```
</CodeGroup>

## Response Example

```json
{
  "id": "att_1234567890abcdef",
  "schema": "kyc-verification",
  "subject": "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgHv1",
  "authority": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
  "data": {
    "verified": true,
    "level": "enhanced", 
    "country": "US",
    "verifiedAt": "2024-01-15T10:30:00Z"
  },
  "createdAt": "2024-01-15T10:30:15.123Z",
  "expiresAt": "2025-01-15T10:30:00Z",
  "status": "active",
  "transactionHash": "5KJp3F2B1Y8Z9X4A7C6D8E1F2G3H4I5J6K7L8M9N0P1Q2R3S4T5U6V7W8X9Y0Z1A2B3C4D5E6F7G8H9I0J1K2L3M4N5O6P7Q8R9S0T1U2V3W4X5Y6Z7A8B9C0D1E2F3G4H5I6J7K8L9M0N1O2P3Q4R5S6T7U8V9W0X1Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6N7O8P9Q0R1S2T3U4V5W6X7Y8Z9A0B1C2D3E4F5G6H7I8J9K0L1M2N3O4P5Q6R7S8T9U0V1W2X3Y4Z5A6B7C8D9E0F1G2H3I4J5K6L7M8N9O0P1Q2R3S4T5U6V7W8X9Y0Z1A2B3C4D5E6F7G8H9I0J1K2L3M4N5O6P7Q8R9S0T1U2V3W4X5Y6Z7A8B9C0D1E2F3G4H5I6J7K8L9M0N1O2P3Q4R5S6T7U8V9W0X1Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6N7O8P9Q0R1S2T3U4V5W6X7Y8Z9A0B1C2D3E4F5G6H7I8J9K0L1M2N3O4P5Q6R7S8T9U0V1W2X3Y4Z5A6B7C8D9E0F1G2H3I4J5K6L7M8N9O0P1Q2R3S4T5U6V7W8X9Y0Z1A2",
  "revocable": true,
  "metadata": {
    "tags": ["kyc", "enhanced"],
    "confidenceScore": 95,
    "source": "manual-review"
  }
}
```

## Error Responses

<ResponseField name="error" type="object">
  Error information when the request fails
  
  <Expandable title="Error Properties">
    <ResponseField name="error.code" type="string">
      Error code identifying the type of error
    </ResponseField>
    
    <ResponseField name="error.message" type="string">
      Human-readable error message
    </ResponseField>
    
    <ResponseField name="error.details" type="object">
      Additional error details (validation errors, etc.)
    </ResponseField>
  </Expandable>
</ResponseField>

### Common Error Codes

<AccordionGroup>
<Accordion title="SCHEMA_NOT_FOUND">
The specified schema does not exist or is not accessible to your authority.

```json
{
  "error": {
    "code": "SCHEMA_NOT_FOUND",
    "message": "Schema 'kyc-verification' not found",
    "details": {
      "schema": "kyc-verification"
    }
  }
}
```
</Accordion>

<Accordion title="VALIDATION_ERROR">
The provided data does not match the schema requirements.

```json
{
  "error": {
    "code": "VALIDATION_ERROR", 
    "message": "Data validation failed",
    "details": {
      "field": "level",
      "reason": "Value must be one of: basic, enhanced, premium",
      "provided": "invalid_level"
    }
  }
}
```
</Accordion>

<Accordion title="INVALID_SUBJECT">
The subject address is not valid for the target blockchain.

```json
{
  "error": {
    "code": "INVALID_SUBJECT",
    "message": "Invalid subject address format",
    "details": {
      "subject": "invalid_address",
      "expected": "Valid Solana address (32-44 characters)"
    }
  }
}
```
</Accordion>

<Accordion title="RATE_LIMIT_EXCEEDED">
Too many requests have been made in a short time period.

```json
{
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Rate limit exceeded",
    "details": {
      "limit": 100,
      "window": "1 minute",
      "retryAfter": 45
    }
  }
}
```
</Accordion>

<Accordion title="INSUFFICIENT_BALANCE">
Not enough funds to pay for the blockchain transaction.

```json
{
  "error": {
    "code": "INSUFFICIENT_BALANCE",
    "message": "Insufficient balance for transaction fees",
    "details": {
      "required": "0.001 SOL",
      "available": "0.0005 SOL"
    }
  }
}
```
</Accordion>
</AccordionGroup>

## Rate Limits

The attestation creation endpoint has the following rate limits:

- **Tier 1 (Free)**: 100 requests per minute
- **Tier 2 (Pro)**: 1,000 requests per minute  
- **Tier 3 (Enterprise)**: 10,000 requests per minute

Rate limit headers are included in responses:

```
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 85
X-RateLimit-Reset: 1642771200
```

## Idempotency

To prevent duplicate attestations, you can include an idempotency key:

<ParamField header="Idempotency-Key" type="string" optional>
  Unique identifier for this request. If the same key is used within 24 hours, the original response will be returned instead of creating a duplicate.
</ParamField>

```bash
curl -X POST "https://api.attest.so/v1/attestations" \
  -H "Authorization: Bearer your_api_key_here" \
  -H "Content-Type: application/json" \
  -H "Idempotency-Key: unique-key-12345" \
  -d '{"schema": "kyc-verification", ...}'
```

## Webhooks

When an attestation is successfully created, AttestProtocol can send a webhook notification:

```json
{
  "event": "attestation.created",
  "timestamp": "2024-01-15T10:30:15.123Z",
  "data": {
    "id": "att_1234567890abcdef",
    "schema": "kyc-verification",
    "subject": "7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgHv1",
    "authority": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
    "status": "active"
  }
}
```

Configure webhooks in your [dashboard](https://app.attest.so/webhooks) to receive these notifications.

## Next Steps

<CardGroup cols={2}>
  <Card
    title="Verify Attestation"
    icon="shield-check"
    href="/reference/endpoints/verify"
  >
    Learn how to verify the attestation you just created
  </Card>
  <Card
    title="Batch Operations"
    icon="layer-group"
    href="/reference/endpoints/batch"
  >
    Create multiple attestations in a single request
  </Card>
  <Card
    title="Webhooks"
    icon="webhook"
    href="/reference/webhooks"
  >
    Set up real-time notifications for attestation events
  </Card>
  <Card
    title="SDK Integration"
    icon="code"
    href="/sdks/typescript/methods"
  >
    Use the TypeScript SDK for easier integration
  </Card>
</CardGroup>